@startuml
!theme plain
skinparam activityBackgroundColor #E8F5E9
skinparam activityBorderColor #2E7D32
skinparam activityStartColor #4CAF50
skinparam activityEndColor #C62828

title Production Process Activity Diagram - Commode Manufacturing

start

:Check Raw Material Availability;

if (Sufficient raw materials?) then (yes)
  :Create Production Batch;
  :Assign Batch ID;
  
  partition "Slip Preparation Stage" {
    :Queue for Slip Preparation Line;
    :Mix Raw Materials\n(Clay, Feldspar, Silica, Kaolin);
    :Ball Milling;
    :Add Water for Slip;
    :Store Slip in Buffer;
  }
  
  partition "Pressure Casting Stage" {
    :Queue for Casting Station;
    :Pour Slip into Gypsum Molds;
    :Wait for Absorption (50 units/batch);
    :Store Cast Commodes;
  }
  
  partition "Demolding & Drying Stage" {
    :Queue for Demolding Station;
    :Extract from Molds;
    :Air Dry (18 hours);
    :Store Demolded Commodes;
  }
  
  partition "Fettling Stage" {
    :Queue for Fettling Station;
    :Remove Mold Seams;
    :Create Water Passages;
    :Smooth Surface;
    :Store Fettled Commodes;
  }
  
  partition "Spray Glazing Stage" {
    :Queue for Glazing Line;
    :Apply White Glaze Layer;
    :Inspect Glaze Coverage;
    :Store Glazed Commodes;
  }
  
  partition "Tunnel Kiln Firing Stage" {
    :Queue for Tunnel Kiln\n(SEVERE BOTTLENECK);
    :Load onto Kiln Car;
    :Fire at 1200-1250Â°C\n(~24 hours!!);
    :Cool Down in Tunnel;
    :Store Fired Commodes;
  }
  
  partition "Finishing & Testing Stage" {
    :Visual Inspection;
    :Apply Markings;
    
    :Functional Testing;
    
    if (Leak test passed?) then (yes)
      if (Flush test passed?) then (yes)
        :Pass - Ready for Inventory;
      else (no)
        :Reject - Flush Failure;
      endif
    else (no)
      :Reject - Leak Failure;
    endif
    
    :Packaging;
    :Update Finished Goods Inventory;
  }
  
  :Record Batch Metrics\n(Cycle Time, Yield, Quality, Test Results);
  
  stop
  
else (no)
  :Log Material Shortage;
  :Trigger Supplier Reorder;
  :Wait for Delivery;
  
  stop
endif

@enduml
